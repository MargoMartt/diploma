<!doctype html>
<html class="no-js" lang="en"
      xmlns:th="http://www.thymeleaf.org" xmlns:t="https://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>БЗПИ - Онлайн-магазин</title>
    <meta name="robots" content="noindex, follow"/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">

    <!-- All CSS is here
	============================================ -->

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/styles/vendor/bootstrap.min.css">
    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="/styles/vendor/font-awesome.css">
    <link rel="stylesheet" href="/styles/vendor/dlicon.css">
    <!-- Others CSS -->
    <link rel="stylesheet" href="/styles/plugins/owl-carousel.css">
    <link rel="stylesheet" href="/styles/plugins/slick.css">
    <link rel="stylesheet" href="/styles/plugins/magnific-popup.css">
    <link rel="stylesheet" href="/styles/plugins/jarallax.css">
    <link rel="stylesheet" href="/styles/plugins/easyzoom.css">
    <link rel="stylesheet" href="/styles/plugins/animate.css">
    <link rel="stylesheet" href="/styles/plugins/fullpage.css">
    <link rel="stylesheet" href="/styles/plugins/jquery-ui.css">
    <link rel="stylesheet" href="/styles/plugins/select2.min.css">
    <link rel="stylesheet" href="/styles/style.css">

    <style>
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        /* Modal content */
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            width: 300px;
            text-align: center;
        }

        /* The Close Button */
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* Red Button */
        .red-btn {
            background-color: red;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            display: inline-block;
            margin-top: 20px;
        }

        .red-btn:hover {
            background-color: darkred;
        }
    </style>

</head>

<body>

<div class="main-wrapper">
    <header class="header-area section-padding-1">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-xl-2 col-lg-2">
                    <div class="logo logo-width">
                        <a href="/">
                            <img src="/images/logo/logo.png" alt="logo">
                        </a>
                    </div>
                </div>
                <div class="col-xl-8 col-lg-8 d-flex justify-content-center position-static">
                    <div class="main-menu menu-lh-1 main-menu-padding-1">
                        <nav>
                            <ul>
                                <li class="position-static"><a class="active" href="/">Главная</a>
                                </li>
                                <li><a href="/">Страницы <i class="fa fa-angle-down"></i></a>
                                    <ul class="sub-menu-width">
                                        <li><a href="/about-us">О нас</a></li>
                                        <li><a href="/contact">Контакты</a></li>
                                        <li><a href="/faq">FAQ</a></li>
                                    </ul>
                                </li>
                                <li><a href="/product/all">Магазин </a>
                                </li>
                                <li><a href="/blog">Блог </a>
                                </li>
                                <li><a href="/account">Мой аккаунт <i class="fa fa-angle-down"></i> </a>
                                    <ul class="sub-menu-width">
                                        <li><a href="/account">Аккаунт</a></li>
                                        <li><a href="/cart">Корзина</a></li>
                                        <li><a href="/login">Вход / Регистрация</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
                <div class="col-xl-2 col-lg-2">
                    <div class="header-right-wrap header-right-flex">
                        <div class="same-style cart-wrap">
                            <a href="/cart" class="cart-active">
                                <i class="dlicon shopping_bag-20"></i>
                                <span class="count-style">02</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="header-small-mobile section-padding-1">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-6">
                    <div class="mobile-logo logo-width">
                        <a href="index.html">
                            <img alt="" src="/images/logo/logo.png">
                        </a>
                    </div>
                </div>
                <div class="col-6">
                    <div class="mobile-header-right-wrap">
                        <div class="header-right-wrap header-right-flex">
                            <div class="same-style cart-wrap">
                                <a href="#" class="cart-active">
                                    <i class="dlicon shopping_bag-20"></i>
                                    <span class="count-style">02</span>
                                </a>
                            </div>
                            <div class="same-style header-off-canvas">
                                <a class="header-aside-button" href="#">
                                    <i class="dlicon ui-3_menu-left"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- mini cart start -->
    <div class="sidebar-cart-active">
        <div class="sidebar-cart-all">
            <a class="cart-close" href="#"><i class="dlicon ui-1_simple-remove"></i></a>
            <div class="cart-content">
                <h3>Shopping Cart</h3>
                <ul>
                    <li class="single-product-cart">
                        <div class="cart-img">
                            <a href="#"><img src="/images/cart/cart-1.jpg" alt=""></a>
                        </div>
                        <div class="cart-title">
                            <h4><a href="#">Bejewelled velvet sandals</a></h4>
                            <span> 1 × $49.00	</span>
                        </div>
                        <div class="cart-delete">
                            <a href="#">×</a>
                        </div>
                    </li>
                    <li class="single-product-cart">
                        <div class="cart-img">
                            <a href="#"><img src="/images/cart/cart-2.jpg" alt=""></a>
                        </div>
                        <div class="cart-title">
                            <h4><a href="#">Contrast faux fur jacket</a></h4>
                            <span> 1 × $49.00	</span>
                        </div>
                        <div class="cart-delete">
                            <a href="#">×</a>
                        </div>
                    </li>
                </ul>
                <div class="cart-total">
                    <h4>Subtotal: <span>$170.00</span></h4>
                </div>
                <div class="cart-checkout-btn">
                    <a class="btn-hover cart-btn-style" href="/cart">view cart</a>
                    <a class="no-mrg btn-hover cart-btn-style" href="/cart">checkout</a>
                </div>
            </div>
        </div>
    </div>
    <!-- aside start -->
    <div class="breadcrumb-area section-padding-1 bg-gray breadcrumb-ptb-1">
        <div class="container-fluid">
            <div class="breadcrumb-content text-center">
                <div class="breadcrumb-title">
                    <h2>Оформление заказа</h2>
                </div>
                <ul>
                    <li>
                        <a href="/">Главная </a>
                    </li>
                    <li><span> &gt; </span></li>
                    <li class="active">Оформление заказа</li>
                </ul>
            </div>
        </div>
    </div>
    <!-- checkout start -->
    <div class="checkout-main-area pt-100 pb-100">
        <form method="post" th:action="@{/cart/buy/{id}(id = ${order.getIdOrder()})}">
            <div class="container">
                <div class="checkout-wrap">
                    <div class="row">
                        <div class="col-lg-7">
                            <div class="billing-info-wrap mr-100">
                                <h3>Реквизиты покупателя</h3>
                                <div class="row">
                                    <div class="col-lg-6 col-md-6">
                                        <div class="billing-info mb-25">
                                            <label>Имя <abbr class="required" title="required">*</abbr></label>
                                            <input type="text" name="name" th:value="${user.getUserName()}">
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6">
                                        <div class="billing-info mb-25">
                                            <label>Фамилия <abbr class="required" title="required">*</abbr></label>
                                            <input type="text" name="surname" th:value="${user.getUserSurname()}">
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="billing-info mb-25">
                                            <label>Город/населенный пункт <abbr class="required" title="required">*</abbr></label>
                                            <input type="text" name="city">
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="billing-info mb-25">
                                            <label>Адрес <abbr class="required" title="required">*</abbr></label>
                                            <input class="billing-address" placeholder="Название улицы и номер дома"
                                                   type="text" name="street">
                                            <input placeholder="Апартаменты, квартира и т.д." type="text"
                                                   name="apartment">
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-12">
                                        <div class="billing-info mb-25">
                                            <label>Номер телефона <abbr class="required" title="required">*</abbr></label>
                                            <input type="text" name="phone" th:value="${user.getUserPhone()}">
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="billing-info mb-25">
                                            <label>Дата доставки <abbr class="required"
                                                                       title="required">*</abbr></label>
                                            <input class="billing-address"
                                                   placeholder="День, когда хотите получить заказ" type="date"
                                                   name="date" th:min="${dateDeliver}"/>

                                            <label>Промежуток времени <abbr class="required"
                                                                            title="required">*</abbr></label>
                                            <select class="select-active" name="time">
                                                <option value="09.00-11.00">09.00-11.00</option>
                                                <option value="11.00-13.00">11.00-13.00</option>
                                                <option value="13.00-15.00">13.00-15.00</option>
                                                <option value="15.00-17.00">15.00-17.00</option>
                                                <option value="17.00-19.00">17.00-19.00</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="billing-select mb-25">
                                            <label>Тип доставки <abbr class="required" title="required">*</abbr></label>
                                            <select class="select-active" name="type">
                                                <option value="Доставка">Доставка</option>
                                                <option value="Самовывоз из магазина">Самовывоз из магазина</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="billing-select mb-25">
                                            <label>Оплата <abbr class="required" title="required">*</abbr></label>
                                            <select id="paymentSelect" class="select-active" name="payment">
                                                <option value="Перевод на расчетный счет">Перевод на расчетный счет</option>
                                                <option value="Наличные" disabled>Наличные</option>
                                                <option value="Карта" disabled>Карта</option>
                                            </select>
                                            <p id="paymentInfo" style="color: red;"></p>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="billing-select mb-25">
                                            <label>Тип покупателя <abbr class="required"
                                                                        title="required">*</abbr></label>
                                            <select class="select-active" name="personType"
                                                    onchange="handleSelectChange(this)">
                                                <option value="Natural person">Физическое лицо</option>
                                                <option value="Legal person">Юридическое лицо</option>
                                                <option value="Add legal person">Добавить юрлицо</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="additional-info-wrap">
                                    <h3>Дополнительная информация</h3>
                                    <label>Оставить пометку (опционально)</label>
                                    <textarea placeholder="Пометка к заказу. "
                                              name="message"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="your-order-area">
                                <h3>Ваш заказ</h3>
                                <div class="your-order-wrap gray-bg-4">
                                    <div class="your-order-info-wrap">
                                        <div class="your-order-info">
                                            <ul>
                                                <li>Товар <span>Количество</span></li>
                                            </ul>
                                        </div>
                                        <div class="your-order-middle">
                                            <ul>
                                                <li th:text="${order.getProductByProductId().getProductName()} + ' X ' + ${order.getOrderCount()}">
                                                </li>
                                                <li></li>
                                            </ul>
                                        </div>
                                        <div class="your-order-info order-subtotal">
                                            <ul>
                                                <li>Стоимость <span th:text="${order.getOrderCost()} + ' BYN'"></span>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="your-order-info order-total">
                                            <ul>
                                                <li>Сумма к оплате <span th:text="${order.getOrderCost()} + ' BYN'"></span></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="payment-method">
                                        <h5>Прямой банковский перевод</h5>
                                        <p>Произведите оплату непосредственно на наш банковский счет.
                                            Пожалуйста, используйте свой идентификатор заказа как
                                            код на оплату. Ваш заказ не будет отправлен до тех пор, пока на счет не поступят средства.
                                        </p>
                                    </div>
                                    <div class="condition-wrap">
                                        <p>
                                            Ваши личные данные будут использоваться для обработки вашего заказа, поддержки вашей
                                            работы на этом веб-сайте, а также для других целей, описанных в нашей <a
                                                href="#">политике приваности</a></p>
                                        <div class="condition-form mb-25">
                                            <input type="checkbox">
                                            <span>Я прочел и согласен с <a href="#">условиями и положением.</a><span class="star">*</span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="Place-order mt-30">
                                    <a>
                                        <button id="confirmOrderBtn" type="submit" style="background: none; border: none; padding: 0; cursor: pointer;">
                                            <span>Подтвердить заказ</span>
                                        </button>
                                        <span>  Подтвердить заказ</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- checkout end -->
    <footer class="footer-area section-padding-1 border-top-3">
        <div class="container-fluid">
            <div class="footer-top pt-100 pb-60">
                <div class="row">
                    <div class="footer-column footer-width-24">
                        <div class="footer-widget footer-about mb-30">
                            <a href="/">
                                <img src="/images/logo/logo.png" alt="logo">
                            </a>
                            <p>Мы объединяем все известные на сегодняшний день технологии переработки пластмасс: литье под давлением,
                                экструзия, выдув, ротационное формование, прессование.</p>
                            <div class="social-icon-style-2 social-icon-hm4">
                                <a class="facebook" href="#"><i class="fa fa-facebook"></i></a>
                                <a class="twitter" href="#"><i class="fa fa-twitter"></i></a>
                                <a class="youtube" href="#"><i class="fa fa-youtube"></i></a>
                                <a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="footer-column footer-width-12">
                        <div class="footer-widget footer-info-list-2 mb-30">
                            <h3 class="footer-title">Полезные ссылки</h3>
                            <ul>
                                <li><a href="/about-us">О нас</a></li>
                                <li><a href="/about-us">Помошь</a></li>
                                <li><a href="/about-us">Наша команда</a></li>
                                <li><a href="/about-us">Политика организации</a></li>
                                <li><a href="#">Блог</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-column footer-width-19">
                        <div class="footer-widget footer-info-list-2 footer-contect mb-30">
                            <h3 class="footer-title">Контактная информация</h3>
                            <ul>
                                <li><i class="dlicon ui-2_time-clock"></i> Понедельник - Пятница: 9:00 - 17:00</li>
                                <li><i class="dlicon ui-1_email-83"></i> bzpi@bzpi.by</li>
                                <li><i class="dlicon tech-2_rotate"></i> +375 (177) 79-08-21</li>
                                <li><i class="dlicon ui-1_home-simple"></i> 222511, Республика Беларусь,
                                    Минская область, Борисова,
                                    ул. Даумана, 97
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-column footer-width-29 mb-30">
                        <div class="contact-page-map">
                            <div id="contact-map"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-botoom">
                <div class="row">
                    <div class="col-12">
                        <div class="copyright-2 text-center">
                            <p>© 2024 <a href="https://www.bzpi.by/">БЗПИ.</a> Все права защищены.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <div class="support-lists">
        <ul>
            <li><a href="#"><i class="dlicon ui-3_chat-46"></i></a></li>
            <li><a href="#"><i class=" dlicon ui-3_phone"></i></a></li>
            <li><a href="#"><i class="dlicon ui-1_email-85"></i></a></li>
        </ul>
    </div>
</div>

<!-- All JS is here
============================================ -->

<!-- Modernizer JS -->

<script src="/scripts/vendor/modernizr-3.11.7.min.js"></script>
<!-- jquery -->
<script src="/scripts/vendor/jquery-v3.6.0.min.js"></script>
<!-- Popper scripts -->
<script src="/scripts/vendor/popper.js"></script>
<!-- Bootstrap scripts -->
<script src="/scripts/vendor/bootstrap.min.js"></script>
<script src="/scripts/plugins/owl-carousel.js"></script>
<script src="/scripts/plugins/slick.js"></script>
<script src="/scripts/plugins/jarallax.min.js"></script>
<script src="/scripts/plugins/countdown.js"></script>
<script src="/scripts/plugins/magnific-popup.js"></script>
<script src="/scripts/plugins/instafeed.js"></script>
<script src="/scripts/plugins/tilt.js"></script>
<script src="/scripts/plugins/images-loaded.js"></script>
<script src="/scripts/plugins/isotope.js"></script>
<script src="/scripts/plugins/scrolloverflow-fullpage.js"></script>
<script src="/scripts/plugins/fullpage.js"></script>
<script src="/scripts/plugins/jquery-ui.js"></script>
<script src="/scripts/plugins/jquery-ui-touch-punch.js"></script>
<script src="/scripts/plugins/easyzoom.js"></script>
<script src="/scripts/plugins/resizesensor.js"></script>
<script src="/scripts/plugins/sticky-sidebar.js"></script>
<script src="/scripts/plugins/scrollup.js"></script>
<script src="/scripts/plugins/select2.min.js"></script>
<script src="/scripts/plugins/cookie.js"></script>
<script src="/scripts/plugins/bpopup.js"></script>
<script src="/scripts/plugins/wow.js"></script>
<script src="/scripts/plugins/ajax-mail.js"></script>
<!-- Main scripts -->
<script src="/scripts/main.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBMlLa3XrAmtemtf97Z2YpXwPLlimRK7Pk"></script>

<script th:inline="javascript">
    /*<![CDATA[*/
    document.addEventListener("DOMContentLoaded", function() {
        const orderCost = /*[[${order.getOrderCost()}]]*/ 0;
        const paymentSelect = document.getElementById("paymentSelect");
        const paymentInfo = document.getElementById("paymentInfo");

        function updatePaymentOptions() {
            if (orderCost > 500) {
                paymentSelect.value = "Transfer to account";
                paymentSelect.querySelector('option[value="Cash"]').disabled = true;
                paymentSelect.querySelector('option[value="Card"]').disabled = true;
                paymentSelect.querySelector('option[value="Transfer to account"]').disabled = false;
                paymentInfo.textContent = "Невозможно выбрать иной тип оплаты, так как сумма заказа превышает 500 BYN.";
            } else {
                paymentSelect.querySelector('option[value="Cash"]').disabled = false;
                paymentSelect.querySelector('option[value="Card"]').disabled = false;
                paymentSelect.querySelector('option[value="Transfer to account"]').disabled = false;
                paymentInfo.textContent = "";
            }
        }

        updatePaymentOptions();

        paymentSelect.addEventListener("change", function() {
            if (orderCost > 500) {
                paymentSelect.value = "Transfer to account";
                paymentInfo.textContent = "Невозможно выбрать иной тип оплаты, так как сумма заказа превышает 500 BYN.";
            } else {
                paymentInfo.textContent = "";
            }
        });
    });
    /*]]>*/
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
// Function to display the modal
function showModal() {
var modal = document.getElementById("myModal");
modal.style.display = "block";

// Close the modal when the user clicks on the close button
var closeBtn = document.querySelector(".close");
closeBtn.onclick = function() {
modal.style.display = "none";
}

// Close the modal when the user clicks anywhere outside of the modal
window.onclick = function(event) {
if (event.target == modal) {
modal.style.display = "none";
}
}
}

// Call the function to display the modal
showModal();
});
</script>

<script>
    function handleSelectChange(selectElement) {
        const selectedValue = selectElement.value;
        if (selectedValue === 'Add legal person') {
            window.location.href = '/account';
        }
    }
</script>
<script>
    function init() {
        var mapOptions = {
            zoom: 11,
            scrollwheel: false,
            center: new google.maps.LatLng(54.2071, 28.5067), // Координаты для г. Борисов, Беларусь
            styles: [
                // Стили карты
            ]
        };
        var mapElement = document.getElementById('contact-map');
        var map = new google.maps.Map(mapElement, mapOptions);
        var marker = new google.maps.Marker({
            position: new google.maps.LatLng(54.2071, 28.5067), // Координаты для г. Борисов, Беларусь
            map: map,
            icon: '/images/icon-img/2.png',
            animation: google.maps.Animation.BOUNCE,
            title: 'Местоположение: г. Борисов, ул. Даумана, 97'
        });
    }

    google.maps.event.addDomListener(window, 'load', init);
</script>
</body>

</html>